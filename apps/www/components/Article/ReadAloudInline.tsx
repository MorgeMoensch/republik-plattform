import { useContext } from 'react'
import { css } from 'glamor'
import {
  IconButton,
  useColorContext,
  AudioIcon,
  fontStyles,
  mediaQueries,
  RawHtml,
} from '@project-r/styleguide'

import { AudioContext } from '../Audio/AudioProvider'
import { trackEvent } from '../../lib/matomo'

type AudioSource = {
  kind: 'syntheticReadAloud' | 'readAloud'
  mp3?: string
  aac?: string
  ogg?: string
  mediaId: string
  durationMs: number
}

type Meta = {
  title: string
  path: string
  url: string
  audioSource: AudioSource
}

type AudioContextType = {
  toggleAudioPlayer: ({
    audioSource,
    title,
    path,
  }: {
    audioSource: AudioSource
    title: string
    path: string
  }) => void
}

const styles = {
  hr: css({
    margin: 0,
    display: 'block',
    border: 0,
    height: 1,
  }),
  container: css({
    display: 'flex',
    alignItems: 'flex-start',
    justifyContent: 'space-between',
    padding: '12px 0',
    gap: 16,
    [mediaQueries.mUp]: {
      alignItems: 'center',
    },
  }),
  textContainer: css({
    flex: 1,
  }),
  title: css({
    ...fontStyles.sansSerifMedium15,
    cursor: 'pointer',
    margin: '0px 0 4px 0',
    padding: 0,
  }),
  lead: css({ ...fontStyles.sansSerifRegular15, margin: 0, padding: 0 }),
}

const CanYouNearMeScream = () => (
  <svg
    width='56'
    height='56'
    viewBox='0 0 256 256'
    fill='none'
    xmlns='http://www.w3.org/2000/svg'
  >
    <g clipPath='url(#clip0_422_26)'>
      <path d='M0 0.0187988H255.981V256H0V0.0187988Z' fill='black' />
      <path
        d='M122.263 255.873C122.464 255.783 122.676 255.576 122.763 255.372C122.845 255.18 122.763 254.925 122.763 254.697C122.763 239.578 122.763 224.459 122.763 209.339C122.763 208.29 122.8 208.29 121.763 208.051C109.913 205.319 100.882 195.431 99.263 183.374C99.0858 182.054 99.0285 180.715 99.013 179.384C98.9731 175.946 99.0404 172.506 99.013 169.068C99.0081 168.444 99.1074 168.19 99.763 168.236C100.498 168.287 101.278 168.292 102.013 168.236C102.683 168.185 102.768 168.465 102.763 169.071C102.737 172.368 102.765 175.664 102.763 178.961C102.761 181.763 103.079 184.53 104.013 187.18C107.371 196.701 113.86 202.642 123.763 204.571C137.201 207.188 150.723 197.902 153.263 184.461C153.588 182.741 153.725 180.968 153.763 179.216C153.837 175.836 153.795 172.452 153.763 169.071C153.757 168.435 154.05 168.139 154.763 168.194C155.554 168.256 156.218 168.213 157.013 168.197C157.385 168.189 157.518 168.277 157.513 168.711C157.457 173.313 157.879 177.935 157.513 182.511C156.924 189.867 153.405 196.022 148.013 201.032C144.168 204.605 139.647 206.952 134.513 208.079C133.968 208.198 133.762 208.379 133.763 209.014C133.784 224.361 133.781 239.707 133.763 255.054C133.762 255.731 134.099 255.912 134.763 255.909C135.427 255.906 121.473 256.229 122.263 255.873Z'
        fill='#FEFEFE'
      />
      <path
        d='M181.019 160.734C181.094 179.918 181.168 199.101 181.243 218.285C181.244 218.541 181.218 218.8 181.251 219.052C181.323 219.611 181.104 219.813 180.542 219.784C179.805 219.746 179.062 219.737 178.326 219.786C177.673 219.83 177.456 219.638 177.455 218.944C177.448 214.255 177.352 209.566 177.36 204.877C177.403 180.378 177.476 155.879 177.521 131.38C177.534 124.304 177.479 117.228 177.488 110.152C177.489 109.45 177.261 109.19 176.595 109.014C174.075 108.349 171.574 107.611 169.066 106.902C168.83 106.836 168.589 106.786 168.35 106.728C168.419 106.958 168.46 107.202 168.561 107.417C171.874 114.491 170.687 122.599 165.414 128.372C162.14 131.957 158.045 133.955 153.2 134.434C143.688 135.374 134.881 128.866 132.891 119.389C130.777 109.324 137.458 99.0647 147.539 97.048C148.039 96.948 148.546 96.8844 149.048 96.7921C149.207 96.7627 149.36 96.6951 149.516 96.6449C149.408 96.5237 149.312 96.3888 149.19 96.2832C147.367 94.7009 145.471 93.1953 143.727 91.5303C137.444 85.532 132.592 78.5156 129.055 70.586C129.02 70.5083 128.987 70.4292 128.943 70.3566C128.802 70.1249 128.657 69.896 128.514 69.666C128.377 69.9036 128.218 70.1313 128.106 70.38C123.453 80.6438 116.718 89.2605 107.758 96.1189C107.646 96.2052 107.539 96.2996 107.423 96.3812C107.132 96.5867 107.151 96.7041 107.513 96.7626C107.988 96.8396 108.463 96.924 108.935 97.02C118.441 98.954 124.933 107.627 124.088 117.258C123.332 125.87 116.84 132.836 108.237 134.266C97.559 136.042 87.5186 128.39 86.3845 117.639C85.9952 113.948 86.6351 110.46 88.2519 107.134C88.3451 106.942 88.3852 106.725 88.4501 106.519C88.2375 106.56 88.0208 106.586 87.8132 106.644C85.3323 107.342 82.863 108.085 80.3665 108.721C79.6312 108.908 79.3536 109.155 79.3526 109.937C79.3458 115.536 79.2425 121.134 79.2613 126.732C79.3273 146.399 79.4642 166.066 79.5055 185.733C79.5286 196.731 79.4171 207.73 79.3635 218.728C79.3584 219.766 79.3493 219.767 78.2799 219.767C77.6263 219.768 76.9705 219.733 76.3195 219.775C75.7262 219.813 75.5323 219.608 75.5471 219.005C75.601 216.818 75.6281 214.629 75.6253 212.441C75.5921 186.55 75.546 160.659 75.5164 134.768C75.5071 126.64 75.4634 118.511 75.5733 110.385C75.652 104.56 76.1218 98.7578 77.0321 92.9899C78.717 82.3139 83.738 73.6008 92.2308 66.9303C96.0938 63.8962 100.478 61.9422 105.376 61.2912C108.629 60.859 111.892 60.9549 115.152 61.3106C119.405 61.7745 123.494 62.9296 127.545 64.2357C128.316 64.484 128.997 64.4418 129.769 64.2187C132.871 63.3226 135.955 62.2954 139.117 61.6964C145.188 60.5469 151.252 60.5017 157.155 62.7558C162.695 64.8713 167.045 68.5379 170.859 72.9903C175.736 78.6848 178.446 85.309 179.708 92.618C181.054 100.406 181.351 108.272 181.351 116.143C181.353 131.007 181.211 145.87 181.129 160.733C181.092 160.733 181.056 160.733 181.019 160.734Z'
        fill='#FEFEFE'
      />
      <path
        d='M219.29 159.449C219.29 179.286 219.287 199.123 219.304 218.96C219.305 219.604 219.125 219.818 218.489 219.776C217.753 219.728 217.009 219.719 216.274 219.775C215.601 219.826 215.482 219.544 215.483 218.938C215.491 215.102 215.453 211.265 215.448 207.428C215.425 190.945 215.372 174.462 215.402 157.978C215.428 144.138 215.591 130.299 215.62 116.459C215.635 109.297 215.357 102.14 214.612 95.0106C213.588 85.2103 211.631 75.6223 207.27 66.7158C199.776 51.4116 188.694 39.5691 173.14 32.2125C167.145 29.3769 160.823 27.6577 154.222 26.9301C149.002 26.3548 143.786 26.2904 138.583 26.9616C135.269 27.389 131.983 28.0333 128.683 28.5683C128.386 28.6165 128.063 28.632 127.772 28.5687C121.93 27.297 116.026 26.5595 110.045 26.5336C93.0014 26.4597 78.2893 32.3867 65.868 43.9641C53.786 55.2253 46.2007 68.9945 43.2042 85.2792C41.8533 92.6205 41.1169 100.021 40.9885 107.469C40.832 116.56 40.8528 125.654 40.8509 134.747C40.8447 162.797 40.8617 190.847 40.8881 218.897C40.8888 219.61 40.6846 219.844 39.9779 219.783C39.2727 219.723 38.5558 219.737 37.8482 219.783C37.2481 219.822 37.0795 219.608 37.0862 219.014C37.1355 214.638 37.1672 210.261 37.1764 205.885C37.2071 191.334 37.2705 176.783 37.2371 162.232C37.2012 146.602 37.0271 130.972 37.0003 115.342C36.9892 108.636 37.28 101.934 37.951 95.255C39.0223 84.591 41.1502 74.1746 45.9771 64.5229C54.1053 48.27 66.055 35.8029 82.7883 28.2557C88.4057 25.722 94.2956 24.1173 100.419 23.3407C106.253 22.6009 112.089 22.5009 117.923 23.1969C121.157 23.5829 124.367 24.1733 127.59 24.6518C128.001 24.7126 128.444 24.7259 128.846 24.6392C135.536 23.1946 142.3 22.4798 149.14 22.7316C165.182 23.322 179.26 28.9782 191.292 39.5479C204.118 50.815 212.578 64.7546 216.281 81.4923C217.683 87.83 218.489 94.2497 218.891 100.722C219.779 115.033 219.338 129.356 219.26 143.676C219.231 148.934 219.255 154.191 219.255 159.449H219.29Z'
        fill='#FEFEFE'
      />
      <path
        d='M211.712 159.502C211.712 179.282 211.712 199.062 211.712 218.842C211.712 219.765 211.716 219.766 210.779 219.769C210.182 219.771 209.585 219.77 208.988 219.768C207.916 219.764 207.909 219.763 207.904 218.721C207.882 214.572 207.853 210.423 207.848 206.273C207.828 190.614 207.782 174.955 207.813 159.295C207.841 145.029 207.985 130.763 208.022 116.496C208.041 108.877 207.738 101.268 206.825 93.6962C205.604 83.5676 203.107 73.8174 197.797 64.9908C191.697 54.8503 183.763 46.5119 173.285 40.7936C167.299 37.5267 160.92 35.4504 154.134 34.6129C145.624 33.5624 137.258 34.3628 128.968 36.3784C128.575 36.4739 128.122 36.4864 127.731 36.3936C121.938 35.0174 116.07 34.2001 110.116 34.1748C93.8082 34.1055 80.1335 40.255 68.8016 51.8365C58.9914 61.8628 52.9923 73.8239 50.6045 87.6401C49.2163 95.6727 48.6142 103.769 48.5824 111.901C48.5333 124.433 48.6426 136.965 48.6627 149.497C48.6911 167.203 48.7098 184.909 48.71 202.615C48.71 208.042 48.6211 213.47 48.6129 218.898C48.6118 219.625 48.3935 219.841 47.6972 219.786C46.991 219.731 46.2751 219.74 45.5672 219.784C44.9661 219.821 44.8041 219.605 44.8102 219.011C44.8585 214.294 44.9014 209.576 44.8943 204.858C44.8593 181.412 44.7969 157.966 44.7692 134.52C44.7588 125.768 44.6955 117.013 44.876 108.264C45.0625 99.2213 45.8476 90.2203 48.0789 81.4138C52.6884 63.2198 62.9939 49.0984 78.7704 39.015C85.6724 34.6036 93.2904 31.9616 101.428 30.9135C106.86 30.2139 112.312 30.1368 117.743 30.8623C121.111 31.3123 124.45 31.9796 127.805 32.5306C128.159 32.5888 128.549 32.5859 128.895 32.5023C135.303 30.9571 141.799 30.2038 148.39 30.373C162.397 30.7327 174.769 35.4884 185.415 44.5353C198.253 55.4459 206.325 69.1939 209.427 85.816C210.744 92.8739 211.534 99.9935 211.587 107.156C211.701 122.814 211.617 138.472 211.615 154.13C211.614 155.921 211.615 157.711 211.615 159.502C211.647 159.502 211.679 159.502 211.712 159.502Z'
        fill='#FEFEFE'
      />
      <path
        d='M56.61 160.323C56.5371 179.791 56.4643 199.258 56.3913 218.726C56.3874 219.77 56.3866 219.771 55.3215 219.772C54.6111 219.772 53.9001 219.752 53.1902 219.772C52.7499 219.785 52.5794 219.62 52.6003 219.177C52.6296 218.552 52.6165 217.926 52.6182 217.301C52.6641 200.732 52.7652 184.163 52.7395 167.594C52.7138 151.026 52.4897 134.457 52.5004 117.889C52.505 111.615 52.7695 105.33 53.191 99.0688C53.7579 90.6504 55.1415 82.3436 58.4645 74.5263C64.4116 60.5365 73.9353 49.7627 87.6626 42.9452C92.7891 40.3992 98.2423 38.9313 103.948 38.3524C111.984 37.5371 119.864 38.417 127.669 40.3238C128.162 40.4441 128.739 40.4577 129.225 40.3293C136.056 38.5278 142.998 37.6969 150.051 38.0877C162.28 38.7655 172.91 43.3802 181.964 51.5482C190.011 58.8079 196.077 67.4505 199.56 77.7999C201.297 82.9601 202.383 88.262 203.052 93.6548C204.47 105.082 204.309 116.566 204.29 128.047C204.241 158.143 204.223 188.24 204.196 218.336C204.195 219.766 204.21 219.78 202.75 219.761C201.994 219.751 201.004 219.951 200.556 219.558C200.173 219.223 200.385 218.177 200.381 217.445C200.331 208.18 200.234 198.915 200.257 189.651C200.314 166.972 200.477 144.293 200.49 121.614C200.494 114.684 200.313 107.745 199.923 100.826C199.451 92.463 198.207 84.1861 194.976 76.3866C189.555 63.2992 180.75 53.1764 168.06 46.6541C162.571 43.8329 156.687 42.3487 150.518 41.9415C143.242 41.4612 136.134 42.3531 129.135 44.3169C128.706 44.4372 128.184 44.4038 127.746 44.2865C121.431 42.5925 115.012 41.6955 108.472 41.848C96.5647 42.1259 86.2218 46.4087 77.3983 54.3286C67.2261 63.459 60.8519 74.7414 58.4073 88.2387C56.9432 96.322 56.3928 104.477 56.3451 112.664C56.2823 123.435 56.3857 134.206 56.4089 144.976C56.42 150.092 56.4108 155.207 56.4108 160.323C56.4772 160.323 56.5436 160.323 56.61 160.323Z'
        fill='#FEFEFE'
      />
      <path
        d='M63.9826 160.329C63.9826 174.937 63.9887 189.545 63.9792 204.153C63.9761 209.013 63.9331 213.872 63.9077 218.732C63.9022 219.768 63.9009 219.769 62.9055 219.772C62.2517 219.774 61.5945 219.73 60.9454 219.785C60.2573 219.842 60.0904 219.577 60.0977 218.917C60.1467 214.484 60.1832 210.05 60.1741 205.616C60.1209 179.442 60.0395 153.268 60.0021 127.093C59.9928 120.586 60.0075 114.075 60.1968 107.572C60.4276 99.6403 61.1754 91.7621 63.182 84.0398C65.8705 73.693 71.3943 65.0871 79.1282 57.8364C84.6949 52.6175 91.1458 48.9285 98.5652 47.0225C103.451 45.7674 108.421 45.4971 113.44 45.8267C118.356 46.1495 123.176 46.9898 127.903 48.3849C128.274 48.4945 128.747 48.4032 129.137 48.2856C135.886 46.2489 142.783 45.3434 149.82 45.7512C158.286 46.2418 165.997 49.0126 172.775 54.0851C183.919 62.424 191.126 73.3651 194.039 87.0521C195.397 93.4371 196.004 99.9058 196.256 106.413C196.825 121.103 196.318 135.796 196.308 150.487C196.294 171.035 196.326 191.583 196.344 212.13C196.346 214.404 196.361 216.678 196.415 218.951C196.43 219.569 196.289 219.832 195.625 219.783C194.89 219.729 194.145 219.729 193.41 219.779C192.764 219.824 192.59 219.585 192.589 218.958C192.587 215.633 192.516 212.308 192.517 208.983C192.522 187.383 192.531 165.784 192.557 144.185C192.57 133.357 192.699 122.529 192.626 111.702C192.58 104.825 192.068 97.9715 190.984 91.162C188.853 77.7778 182.569 66.8015 172.05 58.2842C166.749 53.9921 160.706 51.2055 153.965 50.0491C149.658 49.3102 145.321 49.2987 140.976 49.7657C136.872 50.2069 132.864 51.0618 128.939 52.3386C128.551 52.4647 128.045 52.3941 127.638 52.2701C121.764 50.479 115.766 49.512 109.621 49.4911C99.6664 49.4572 90.9003 52.7346 83.3605 59.1681C73.901 67.2398 67.9871 77.3918 65.776 89.6839C64.438 97.1224 63.9185 104.627 63.8634 112.16C63.7917 121.964 63.895 131.768 63.9121 141.573C63.923 147.825 63.9141 154.077 63.9141 160.329C63.937 160.329 63.9598 160.329 63.9826 160.329Z'
        fill='#FEFEFE'
      />
      <path
        d='M188.564 160.571C188.64 179.953 188.716 199.335 188.791 218.718C188.795 219.827 188.947 219.767 187.742 219.772C187.088 219.774 186.432 219.739 185.782 219.782C185.196 219.82 185 219.625 185.001 219.022C185.004 216.465 184.934 213.907 184.932 211.35C184.919 190.745 184.891 170.14 184.919 149.535C184.932 139.816 185.087 130.097 185.122 120.378C185.147 113.244 185.046 106.11 184.346 99.003C183.701 92.4504 182.673 85.9576 179.771 79.9707C175.631 71.4326 169.597 64.6143 161.018 60.2845C156.955 58.2341 152.605 57.2758 148.057 57.1356C141.703 56.9395 135.58 58.1052 129.61 60.1908C128.882 60.445 128.217 60.4709 127.477 60.2267C123.783 59.0076 120.015 58.1038 116.156 57.5545C103.762 55.7901 93.2497 59.2851 84.6394 68.4986C78.0881 75.5089 74.3885 83.7812 72.9782 93.2034C71.7543 101.381 71.4627 109.608 71.4845 117.851C71.5438 140.274 71.6976 162.697 71.7496 185.12C71.7756 196.346 71.6616 207.572 71.6095 218.797C71.605 219.768 71.6003 219.769 70.6275 219.771C69.9739 219.773 69.316 219.725 68.6676 219.783C67.9282 219.849 67.7766 219.541 67.7895 218.859C67.8478 215.79 67.8769 212.721 67.8761 209.651C67.8708 187.399 67.8639 165.146 67.8397 142.893C67.8284 132.548 67.6991 122.203 67.7724 111.859C67.8206 105.068 68.3076 98.2982 69.4038 91.5762C71.5059 78.6852 77.7031 68.2615 88.1061 60.3851C92.7284 56.8854 97.949 54.6495 103.703 53.7844C107.57 53.2031 111.455 53.2497 115.343 53.6573C119.621 54.1056 123.781 55.0673 127.879 56.3478C128.253 56.4648 128.731 56.4514 129.107 56.3311C132.515 55.2418 135.963 54.3516 139.511 53.8267C153.003 51.8305 164.599 55.4317 174.158 65.3265C181.475 72.9 185.71 81.9153 187.304 92.2807C188.487 99.9735 188.869 107.714 188.875 115.473C188.882 128.317 188.744 141.161 188.673 154.005C188.661 156.194 188.671 158.382 188.671 160.57C188.635 160.57 188.6 160.571 188.564 160.571Z'
        fill='#FEFEFE'
      />
      <path
        d='M148.82 169.927C148.82 173.593 148.9 177.26 148.804 180.924C148.554 190.502 141.22 198.841 131.751 200.415C120.254 202.326 109.722 194.837 107.767 183.33C107.577 182.216 107.525 181.068 107.522 179.936C107.5 173.172 107.489 166.409 107.516 159.645C107.554 150.086 113.925 141.952 123.186 139.582C135.016 136.556 147.127 144.769 148.631 156.896C148.867 158.804 148.811 160.751 148.837 162.68C148.868 165.095 148.844 167.511 148.844 169.927C148.836 169.927 148.828 169.927 148.82 169.927Z'
        fill='#FEFEFE'
      />
      <path
        d='M126.51 232.281C126.509 224.778 126.508 217.275 126.51 209.772C126.51 208.572 126.435 208.765 127.49 208.76C128.229 208.757 128.969 208.777 129.706 208.748C130.106 208.733 130.294 208.852 130.252 209.269C130.235 209.438 130.249 209.61 130.249 209.78C130.25 224.786 130.25 239.792 130.25 254.798C130.25 255.894 130.249 255.894 129.148 255.895C128.494 255.896 127.839 255.872 127.187 255.902C126.674 255.925 126.49 255.741 126.5 255.216C126.529 253.71 126.51 252.203 126.51 250.697C126.51 244.558 126.51 238.42 126.51 232.281Z'
        fill='black'
      />
      <path
        d='M105.217 100.454C113.615 100.463 120.328 107.228 120.319 115.67C120.309 123.945 113.464 130.773 105.212 130.74C96.7832 130.705 90.0032 123.949 90 115.582C89.9968 107.218 96.8106 100.444 105.217 100.454Z'
        fill='black'
      />
      <path
        d='M151.337 130.749C142.833 130.604 136.13 123.77 136.252 115.388C136.376 106.823 143.536 100.065 152.064 100.458C159.702 100.81 166.726 107.105 166.549 115.95C166.394 123.656 160.171 130.681 151.337 130.749Z'
        fill='black'
      />
      <path
        d='M79.5118 104.184C79.5766 103.281 79.6787 102.544 79.6676 101.808C79.6579 101.164 79.9602 100.945 80.5301 100.799C87.4523 99.0218 93.9383 96.2401 99.8899 92.2657C109.293 85.9867 116.276 77.6499 120.962 67.3741C121.415 66.3802 121.409 66.3773 122.499 66.6996C123.124 66.8844 123.741 67.1031 124.376 67.2457C125.009 67.3879 125.097 67.6324 124.828 68.2343C122.875 72.6042 120.533 76.7478 117.674 80.5882C109.194 91.9769 98.025 99.5164 84.5138 103.682C83.1885 104.091 81.8406 104.427 80.4992 104.782C79.4749 105.052 79.4721 105.042 79.5118 104.184Z'
        fill='black'
      />
      <path
        d='M177.179 103.814C177.232 105.298 177.232 105.299 175.779 104.926C163.794 101.85 153.335 96.0937 144.698 87.1685C139.347 81.6396 135.207 75.2968 132.143 68.2437C131.919 67.7272 131.893 67.4443 132.548 67.2929C133.318 67.1147 134.077 66.8628 134.814 66.5733C135.402 66.3424 135.636 66.5112 135.878 67.0761C137.404 70.6351 139.28 74.0052 141.494 77.183C148.878 87.7832 158.767 95.0825 170.887 99.4174C172.672 100.056 174.499 100.583 176.327 101.09C176.845 101.234 177.021 101.449 177.035 101.946C177.053 102.569 177.129 103.191 177.179 103.814Z'
        fill='black'
      />
      <path
        d='M142.654 64.9587C143.134 64.7864 143.274 65.2558 143.474 65.6717C147.125 73.2558 152.284 79.6069 159.029 84.6531C163.866 88.2716 169.198 90.9338 174.944 92.7624C175.59 92.9678 175.869 93.2708 175.938 93.9079C176.026 94.7254 176.189 95.5346 176.29 96.3509C176.401 97.2387 176.368 97.2905 175.558 96.9915C172.505 95.8643 169.372 94.898 166.436 93.5181C154.194 87.7664 145.258 78.6744 139.553 66.4097C139.482 66.2554 139.416 66.0978 139.335 65.9481C139.148 65.5981 139.278 65.43 139.642 65.3756C140.007 65.3213 140.369 65.2491 140.734 65.1993C141.323 65.119 141.915 65.0506 142.654 64.9587Z'
        fill='black'
      />
      <path
        d='M114.26 65.0242C115.126 65.154 116.076 65.314 117.032 65.4332C117.563 65.4993 117.613 65.7148 117.378 66.1441C116.151 68.3825 115.069 70.7118 113.695 72.8553C105.887 85.0398 94.811 92.7944 80.9769 96.7493C80.1968 96.9723 80.189 96.9602 80.3027 96.202C80.4332 95.3319 80.6084 94.4666 80.6928 93.5922C80.7504 92.9949 81.0039 92.7328 81.5838 92.5512C87.9508 90.5567 93.8156 87.5871 99.0605 83.4357C105.152 78.6145 109.869 72.6891 113.298 65.7273C113.661 64.9903 113.662 64.9906 114.26 65.0242Z'
        fill='black'
      />
      <path
        d='M148.643 64.8374C148.785 64.8374 148.927 64.8391 149.069 64.8371C150.894 64.8114 152.141 65.4024 153.217 67.145C157.832 74.6246 164.358 79.9934 172.372 83.5568C173.03 83.8497 173.43 84.2348 173.642 84.898C173.961 85.8967 174.324 86.8815 174.648 87.879C174.721 88.1054 174.709 88.3598 174.736 88.6013C174.522 88.5463 174.296 88.5186 174.096 88.4322C172.171 87.603 170.201 86.8632 168.339 85.9107C159.409 81.3426 152.577 74.618 147.856 65.7597C147.816 65.6846 147.774 65.6102 147.736 65.5342C147.365 64.7985 147.366 64.7987 148.217 64.8128C148.359 64.8152 148.501 64.8131 148.643 64.8131V64.8374Z'
        fill='black'
      />
      <path
        d='M108.285 64.7852C108.627 64.8316 109.004 64.8829 109.381 64.9342C109.235 65.2662 109.113 65.612 108.939 65.9285C103.013 76.6609 94.1871 83.9776 82.714 88.1686C82.4909 88.25 82.2387 88.2514 82 88.2902C82.0394 88.0479 82.0451 87.794 82.1241 87.5653C82.4941 86.4928 82.9012 85.433 83.2595 84.3567C83.4182 83.8803 83.7206 83.6338 84.1693 83.4403C92.8275 79.7077 99.6648 73.8642 104.56 65.7853C104.797 65.3952 105.04 65.1358 105.534 65.0986C106.438 65.0307 107.337 64.8969 108.285 64.7852Z'
        fill='black'
      />
      <path
        d='M158.181 67.4006C158.407 67.5192 158.609 67.6215 158.808 67.7304C162.58 69.7965 165.643 72.6765 168.308 76.0115C168.663 76.455 169.016 76.8996 169.358 77.3527C169.433 77.452 169.456 77.59 169.503 77.7102C169.378 77.6798 169.228 77.6838 169.131 77.614C167.313 76.3053 165.372 75.1312 163.724 73.6353C161.757 71.8504 160.04 69.7894 158.22 67.8439C158.126 67.7432 158.072 67.6045 158 67.4835C158.066 67.4535 158.131 67.4234 158.181 67.4006Z'
        fill='black'
      />
      <path
        d='M98.9164 67.3308C98.7936 67.5057 98.7323 67.6011 98.663 67.6903C95.6176 71.6137 91.9597 74.8453 87.6947 77.3885C87.5673 77.4644 87.3992 77.4719 87.25 77.5113C87.3092 77.3913 87.3504 77.2575 87.4302 77.1532C90.3555 73.3333 93.6801 69.9557 97.9756 67.657C98.2001 67.5369 98.4254 67.4171 98.6573 67.3122C98.7143 67.2864 98.7983 67.3202 98.9164 67.3308Z'
        fill='black'
      />
      <path
        d='M145.032 169.84C145.032 173.135 145.032 176.43 145.032 179.725C145.032 188.381 139.253 195.358 130.735 196.737C121.926 198.162 113.455 192.36 111.624 183.438C111.386 182.279 111.283 181.073 111.278 179.888C111.246 173.156 111.24 166.423 111.268 159.691C111.301 151.727 116.62 145.062 124.365 143.215C133.958 140.928 143.652 147.614 144.857 157.41C145.071 159.148 145.007 160.923 145.025 162.682C145.051 165.068 145.032 167.454 145.032 169.84Z'
        fill='black'
      />
      <path
        d='M105.102 104.286C111.373 104.329 116.364 109.406 116.316 115.692C116.268 121.945 111.175 126.934 104.887 126.889C98.6792 126.844 93.6994 121.703 93.7504 115.392C93.7999 109.266 98.9341 104.243 105.102 104.286Z'
        fill='#FEFEFE'
      />
      <path
        d='M162.596 115.664C162.569 121.891 157.446 126.93 151.181 126.89C145.015 126.851 139.959 121.703 140 115.505C140.041 109.3 145.106 104.289 151.34 104.283C157.564 104.278 162.623 109.393 162.596 115.664Z'
        fill='#FEFEFE'
      />
      <path
        d='M141.24 169.89C141.24 173.668 141.371 177.451 141.209 181.221C140.965 186.881 136.125 192.058 130.532 192.894C123.067 194.01 116.63 189.353 115.39 181.923C115.288 181.31 115.268 180.678 115.268 180.056C115.259 173.266 115.23 166.476 115.272 159.687C115.311 153.301 119.805 147.893 125.849 146.85C134.042 145.436 141.223 151.423 141.295 159.749C141.325 163.129 141.3 166.51 141.3 169.89C141.28 169.89 141.26 169.89 141.24 169.89Z'
        fill='#FEFEFE'
      />
      <path
        d='M105.037 108.112C109.177 108.106 112.491 111.421 112.494 115.569C112.496 119.696 109.176 123.063 105.065 123.102C100.955 123.141 97.4941 119.708 97.5 115.597C97.506 111.423 100.833 108.118 105.037 108.112Z'
        fill='black'
      />
      <path
        d='M151.301 108.109C155.49 108.134 158.791 111.489 158.744 115.672C158.698 119.798 155.297 123.154 151.213 123.103C147.1 123.052 143.724 119.649 143.75 115.582C143.777 111.394 147.122 108.084 151.301 108.109Z'
        fill='black'
      />
      <path
        d='M137.464 169.862C137.464 173.242 137.473 176.622 137.462 180.002C137.445 185.313 133.206 189.423 127.9 189.289C123.141 189.169 119.056 185.091 119.03 180.335C118.992 173.348 118.988 166.36 119.032 159.373C119.063 154.492 123.229 150.465 128.163 150.433C133.127 150.401 137.332 154.328 137.44 159.211C137.519 162.76 137.456 166.312 137.456 169.862H137.464Z'
        fill='black'
      />
      <path
        d='M101.5 115.565C101.51 113.564 103.135 111.929 105.118 111.925C107.096 111.921 108.738 113.564 108.748 115.558C108.758 117.597 107.109 119.246 105.083 119.224C103.085 119.202 101.491 117.574 101.5 115.565Z'
        fill='#FEFEFE'
      />
      <path
        d='M151.33 119.224C149.343 119.193 147.726 117.531 147.75 115.544C147.775 113.569 149.455 111.905 151.409 111.92C153.407 111.936 155.092 113.677 155.034 115.667C154.977 117.662 153.319 119.254 151.33 119.224Z'
        fill='#FEFEFE'
      />
      <path
        d='M123.006 169.79C123.006 166.467 122.989 163.144 123.012 159.821C123.03 157.268 124.516 155.216 126.784 154.524C130.278 153.459 133.708 156.011 133.738 159.746C133.772 163.921 133.747 168.096 133.748 172.271C133.748 174.855 133.769 177.44 133.741 180.024C133.715 182.438 132.215 184.473 130.003 185.182C127.811 185.885 125.417 185.093 124.028 183.201C123.276 182.177 122.995 181.017 123 179.758C123.014 176.435 123.005 173.112 123.006 169.79Z'
        fill='#FEFEFE'
      />
      <path
        d='M129.891 169.873C129.89 173.084 129.892 176.295 129.888 179.506C129.888 179.818 129.895 180.137 129.831 180.439C129.683 181.14 128.981 181.651 128.263 181.625C127.544 181.599 126.903 181.05 126.783 180.329C126.741 180.079 126.751 179.819 126.751 179.564C126.75 173.085 126.75 166.606 126.751 160.127C126.751 159.985 126.747 159.843 126.755 159.701C126.807 158.762 127.431 158.114 128.293 158.1C129.195 158.085 129.871 158.74 129.88 159.729C129.903 162.059 129.89 164.389 129.891 166.719C129.891 167.77 129.891 168.822 129.891 169.873Z'
        fill='black'
      />
    </g>
    <defs>
      <clipPath id='clip0_422_26'>
        <rect width='256' height='256' fill='white' />
      </clipPath>
    </defs>
  </svg>
)

const SyntheticAudio = ({ meta, t }: { meta: Meta; t: (sting) => string }) => {
  const { toggleAudioPlayer } = useContext<AudioContextType>(AudioContext)
  const [colorScheme] = useColorContext()
  const { kind } = meta.audioSource
  const isSynthetic = kind === 'syntheticReadAloud'
  const eventCategory = isSynthetic ? 'SyntheticAudio' : 'ReadAloudAudio'
  return (
    <div>
      <hr {...styles.hr} {...colorScheme.set('backgroundColor', 'divider')} />
      <div {...styles.container}>
        {isSynthetic ? (
          <IconButton
            style={{ marginRight: 0 }}
            size={56}
            Icon={AudioIcon}
            onClick={(e) => {
              e.preventDefault()
              trackEvent([eventCategory, 'audio', meta.url])
              toggleAudioPlayer({
                audioSource: meta.audioSource,
                title: meta.title,
                path: meta.path,
              })
            }}
          />
        ) : (
          <CanYouNearMeScream />
        )}

        <div {...styles.textContainer}>
          <p
            onClick={(e) => {
              e.preventDefault()
              trackEvent([eventCategory, 'audio', meta.url])
              toggleAudioPlayer({
                audioSource: meta.audioSource,
                title: meta.title,
                path: meta.path,
              })
            }}
            {...styles.title}
            {...colorScheme.set('fill', 'text')}
          >
            {t(`article/${kind}/title`)}
          </p>
          <p {...styles.lead}>
            <RawHtml
              dangerouslySetInnerHTML={{
                __html: t(`article/${kind}/lead`),
              }}
            />
          </p>
        </div>
      </div>

      <hr {...styles.hr} {...colorScheme.set('backgroundColor', 'divider')} />
    </div>
  )
}

export default SyntheticAudio
